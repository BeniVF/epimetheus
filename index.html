<html><head><title>epimetheus</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Christopher Davenport" /><meta name="description" content="An Afterthought of Prometheus" /><meta name="og:image" content="/epimetheus/img/poster.png" /><meta name="image" property="og:image" content="/epimetheus/img/poster.png" /><meta name="og:title" content="epimetheus" /><meta name="title" property="og:title" content="epimetheus" /><meta name="og:site_name" content="epimetheus" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="An Afterthought of Prometheus" /><link rel="icon" type="image/png" href="/epimetheus/img/favicon.png" /><meta name="twitter:title" content="epimetheus" /><meta name="twitter:image" content="/epimetheus/img/poster.png" /><meta name="twitter:description" content="An Afterthought of Prometheus" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/epimetheus/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/epimetheus/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/epimetheus/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/epimetheus/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/epimetheus/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/epimetheus/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/epimetheus/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/epimetheus/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/epimetheus/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/epimetheus/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/epimetheus/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/epimetheus/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/epimetheus/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/epimetheus/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/epimetheus/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/epimetheus/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/epimetheus/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/epimetheus/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/epimetheus/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/epimetheus/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/epimetheus/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/epimetheus/css/style.css" /><link rel="stylesheet" href="/epimetheus/css/palette.css" /><link rel="stylesheet" href="/epimetheus/css/codemirror.css" /></head><body><header id="site-header"><div class="navbar-wrapper"><div class="container"><div class="row"><div class="col-xs-6"><a href="/epimetheus/" class="brand"><div class="icon-wrapper"><span>epimetheus</span></div></a></div><div class="col-xs-6"><nav class="text-right"><ul class=""><li><a href="https://github.com/ChristopherDavenport/epimetheus"><i class="fa fa-github"></i><span class="hidden-xs">GitHub</span></a></li><li><a href="https://www.javadoc.io/doc/io.chrisdavenport/epimetheus_2.12"><i class="fa fa-file-text"></i><span class="hidden-xs">Documentation</span></a></li></ul></nav></div></div></div></div><div class="jumbotron"><div class="container"><h1 class="text-center">An Afterthought of Prometheus</h1><h2></h2><p class="text-center"><a href="https://github.com/ChristopherDavenport/epimetheus" class="btn btn-outline-inverse">View on GitHub</a></p></div></div><div><ul class="horizontalNav">                       <li><a class="" href="/epimetheus/epic.html">epic of epimetheus</a></li>  <li><a class="" href="/epimetheus/ecosystem.html">ecosystem</a></li>  <li><a class="" href="/epimetheus/changelog.html">changelog</a></li>  <li><a class="" href="/epimetheus/code-of-conduct.html">code of conduct</a></li>  <li><a class="" href="/epimetheus/license.html">license</a></li> </ul></div></header><main id="site-main"><section class="use"><div class="container"><div id="content"><h1 id="epimetheus---an-afterthought-of-prometheus--">epimetheus - An Afterthought of Prometheus <a href="https://travis-ci.com/ChristopherDavenport/epimetheus"><img src="https://travis-ci.com/ChristopherDavenport/epimetheus.svg?branch=master" alt="Build Status" /></a> <a href="https://maven-badges.herokuapp.com/maven-central/io.chrisdavenport/epimetheus_2.12"><img src="https://maven-badges.herokuapp.com/maven-central/io.chrisdavenport/epimetheus_2.12/badge.svg" alt="Maven Central" /></a></h1>

<h2 id="quick-start">Quick Start</h2>

<p>To use epimetheus in an existing SBT project with Scala 2.11 or a later version, add the following dependencies to your
<code class="highlighter-rouge">build.sbt</code> depending on your needs:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="n">libraryDependencies</span> <span class="o">++=</span> <span class="nc">Seq</span><span class="o">(</span>
  <span class="s">"io.chrisdavenport"</span> <span class="o">%%</span> <span class="s">"epimetheus"</span> <span class="o">%</span> <span class="s">"&lt;version&gt;"</span>
<span class="o">)</span>
</code></pre>
</div>

<h2 id="quick-examples">Quick Examples</h2>

<p>First Imports.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">io.chrisdavenport.epimetheus._</span>
<span class="k">import</span> <span class="nn">io.chrisdavenport.epimetheus.implicits._</span>
<span class="k">import</span> <span class="nn">cats.effect._</span>

<span class="k">import</span> <span class="nn">scala.concurrent.ExecutionContext.global</span>
<span class="k">import</span> <span class="nn">scala.concurrent.duration._</span>

<span class="k">implicit</span> <span class="k">val</span> <span class="nc">CS</span> <span class="k">=</span> <span class="nc">IO</span><span class="o">.</span><span class="n">contextShift</span><span class="o">(</span><span class="n">global</span><span class="o">)</span>
<span class="k">implicit</span> <span class="k">val</span> <span class="n">T</span> <span class="k">=</span> <span class="nc">IO</span><span class="o">.</span><span class="n">timer</span><span class="o">(</span><span class="n">global</span><span class="o">)</span>
</code></pre>
</div>

<h3 id="counter-example">Counter Example</h3>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">val</span> <span class="n">noLabelsCounterExample</span> <span class="k">=</span> <span class="o">{</span>
  <span class="k">for</span> <span class="o">{</span>
    <span class="n">cr</span> <span class="k">&lt;-</span> <span class="nc">CollectorRegistry</span><span class="o">.</span><span class="n">build</span><span class="o">[</span><span class="kt">IO</span><span class="o">]</span>
    <span class="n">counter</span> <span class="k">&lt;-</span> <span class="nc">Counter</span><span class="o">.</span><span class="n">noLabels</span><span class="o">(</span><span class="n">cr</span><span class="o">,</span> <span class="nc">Name</span><span class="o">(</span><span class="s">"counter_total"</span><span class="o">),</span> <span class="s">"Example Counter"</span><span class="o">)</span>
    <span class="k">_</span> <span class="k">&lt;-</span> <span class="n">counter</span><span class="o">.</span><span class="n">inc</span>
    <span class="n">currentMetrics</span> <span class="k">&lt;-</span> <span class="n">cr</span><span class="o">.</span><span class="n">write004</span>
  <span class="o">}</span> <span class="k">yield</span> <span class="n">currentMetrics</span>
<span class="o">}</span>
<span class="c1">// noLabelsCounterExample: cats.effect.IO[String] = IO$1185448942
</span>
<span class="n">noLabelsCounterExample</span><span class="o">.</span><span class="n">unsafeRunSync</span>
<span class="c1">// res0: String =
// "# HELP counter_total Example Counter
// # TYPE counter_total counter
// counter_total 1.0
// "
</span></code></pre>
</div>

<h3 id="gauge-example">Gauge Example</h3>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">val</span> <span class="n">noLabelsGaugeExample</span> <span class="k">=</span> <span class="o">{</span>
  <span class="k">for</span> <span class="o">{</span>
    <span class="n">cr</span> <span class="k">&lt;-</span> <span class="nc">CollectorRegistry</span><span class="o">.</span><span class="n">build</span><span class="o">[</span><span class="kt">IO</span><span class="o">]</span>
    <span class="n">gauge</span> <span class="k">&lt;-</span> <span class="nc">Gauge</span><span class="o">.</span><span class="n">noLabels</span><span class="o">(</span><span class="n">cr</span><span class="o">,</span> <span class="nc">Name</span><span class="o">(</span><span class="s">"gauge_total"</span><span class="o">),</span> <span class="s">"Example Gauge"</span><span class="o">)</span>
    <span class="k">_</span> <span class="k">&lt;-</span> <span class="n">gauge</span><span class="o">.</span><span class="n">inc</span>
    <span class="k">_</span> <span class="k">&lt;-</span> <span class="n">gauge</span><span class="o">.</span><span class="n">inc</span>
    <span class="k">_</span> <span class="k">&lt;-</span> <span class="n">gauge</span><span class="o">.</span><span class="n">dec</span>
    <span class="n">currentMetrics</span> <span class="k">&lt;-</span> <span class="n">cr</span><span class="o">.</span><span class="n">write004</span>
  <span class="o">}</span> <span class="k">yield</span> <span class="n">currentMetrics</span>
<span class="o">}</span>
<span class="c1">// noLabelsGaugeExample: cats.effect.IO[String] = IO$302008663
</span>
<span class="n">noLabelsGaugeExample</span><span class="o">.</span><span class="n">unsafeRunSync</span>
<span class="c1">// res1: String =
// "# HELP gauge_total Example Gauge
// # TYPE gauge_total gauge
// gauge_total 1.0
// "
</span></code></pre>
</div>

<h3 id="histogram-example">Histogram Example</h3>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">val</span> <span class="n">noLabelsHistogramExample</span> <span class="k">=</span> <span class="o">{</span>
  <span class="k">for</span> <span class="o">{</span>
    <span class="n">cr</span> <span class="k">&lt;-</span> <span class="nc">CollectorRegistry</span><span class="o">.</span><span class="n">build</span><span class="o">[</span><span class="kt">IO</span><span class="o">]</span>
    <span class="n">h</span> <span class="k">&lt;-</span> <span class="nc">Histogram</span><span class="o">.</span><span class="n">noLabels</span><span class="o">(</span><span class="n">cr</span><span class="o">,</span> <span class="nc">Name</span><span class="o">(</span><span class="s">"example_histogram"</span><span class="o">),</span> <span class="s">"Example Histogram"</span><span class="o">)</span>
    <span class="k">_</span> <span class="k">&lt;-</span> <span class="n">h</span><span class="o">.</span><span class="n">observe</span><span class="o">(</span><span class="mf">0.2</span><span class="o">)</span>
    <span class="k">_</span> <span class="k">&lt;-</span> <span class="n">h</span><span class="o">.</span><span class="n">timed</span><span class="o">(</span><span class="n">T</span><span class="o">.</span><span class="n">sleep</span><span class="o">(</span><span class="mf">1.</span><span class="n">second</span><span class="o">),</span> <span class="nc">SECONDS</span><span class="o">)</span>
    <span class="n">currentMetrics</span> <span class="k">&lt;-</span> <span class="n">cr</span><span class="o">.</span><span class="n">write004</span>
  <span class="o">}</span> <span class="k">yield</span> <span class="n">currentMetrics</span>
<span class="o">}</span>
<span class="c1">// noLabelsHistogramExample: cats.effect.IO[String] = IO$691032342
</span>
<span class="n">noLabelsHistogramExample</span><span class="o">.</span><span class="n">unsafeRunSync</span>
<span class="c1">// res2: String =
// "# HELP example_histogram Example Histogram
// # TYPE example_histogram histogram
// example_histogram_bucket{le="0.005",} 0.0
// example_histogram_bucket{le="0.01",} 0.0
// example_histogram_bucket{le="0.025",} 0.0
// example_histogram_bucket{le="0.05",} 0.0
// example_histogram_bucket{le="0.075",} 0.0
// example_histogram_bucket{le="0.1",} 0.0
// example_histogram_bucket{le="0.25",} 1.0
// example_histogram_bucket{le="0.5",} 1.0
// example_histogram_bucket{le="0.75",} 1.0
// example_histogram_bucket{le="1.0",} 2.0
// example_histogram_bucket{le="2.5",} 2.0
// example_histogram_bucket{le="5.0",} 2.0
// example_histogram_bucket{le="7.5",} 2.0
// example_histogram_bucket{le="10.0",} 2.0
// example_histogram_bucket{le="+Inf",} 2.0
// example_histogram_count 2.0
// example_histogram_sum 1.2
// "
</span></code></pre>
</div>

<h3 id="summary-example">Summary Example</h3>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">val</span> <span class="n">noLabelsSummaryExample</span> <span class="k">=</span> <span class="o">{</span>
  <span class="k">for</span> <span class="o">{</span>
    <span class="n">cr</span> <span class="k">&lt;-</span> <span class="nc">CollectorRegistry</span><span class="o">.</span><span class="n">build</span><span class="o">[</span><span class="kt">IO</span><span class="o">]</span>
    <span class="n">s</span> <span class="k">&lt;-</span> <span class="nc">Summary</span><span class="o">.</span><span class="n">noLabels</span><span class="o">(</span><span class="n">cr</span><span class="o">,</span> <span class="nc">Name</span><span class="o">(</span><span class="s">"example_summary"</span><span class="o">),</span> <span class="s">"Example Summary"</span><span class="o">,</span> <span class="nc">Summary</span><span class="o">.</span><span class="n">quantile</span><span class="o">(</span><span class="mf">0.5</span><span class="o">,</span><span class="mf">0.05</span><span class="o">))</span>
    <span class="k">_</span> <span class="k">&lt;-</span> <span class="n">s</span><span class="o">.</span><span class="n">observe</span><span class="o">(</span><span class="mf">0.1</span><span class="o">)</span>
    <span class="k">_</span> <span class="k">&lt;-</span> <span class="n">s</span><span class="o">.</span><span class="n">observe</span><span class="o">(</span><span class="mf">0.2</span><span class="o">)</span>
    <span class="k">_</span> <span class="k">&lt;-</span> <span class="n">s</span><span class="o">.</span><span class="n">observe</span><span class="o">(</span><span class="mf">1.0</span><span class="o">)</span>
    <span class="n">currentMetrics</span> <span class="k">&lt;-</span> <span class="n">cr</span><span class="o">.</span><span class="n">write004</span>
  <span class="o">}</span> <span class="k">yield</span> <span class="n">currentMetrics</span>
<span class="o">}</span>
<span class="c1">// noLabelsSummaryExample: cats.effect.IO[String] = IO$894907355
</span>
<span class="n">noLabelsSummaryExample</span><span class="o">.</span><span class="n">unsafeRunSync</span>
<span class="c1">// res3: String =
// "# HELP example_summary Example Summary
// # TYPE example_summary summary
// example_summary{quantile="0.5",} 0.1
// example_summary_count 3.0
// example_summary_sum 1.3
// "
</span></code></pre>
</div>
</div></div></section><section class="technologies"><div class="container"><div class="row"></div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><div class="col-xs-6"><p>epimetheus is designed and developed by <a href="" target="_blank">Christopher Davenport</a></p></div><div class="col-xs-6"><p class="text-right"><a href="https://github.com/ChristopherDavenport/epimetheus"><span class="fa fa-github"></span>View on GitHub</a></p></div></div><script src="/epimetheus/highlight/highlight.pack.js"></script><script>hljs.initHighlighting();
              </script></div></footer></body></html>